<!DOCTYPE web-app PUBLIC
 "-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN"
 "http://java.sun.com/dtd/web-app_2_3.dtd" >

<web-app version="2.4" xmlns="http://java.sun.com/xml/ns/j2ee" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://java.sun.com/xml/ns/j2ee http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd" >

	<display-name>AMBIT2</display-name>
	<description>
		AMBIT2 	</description>
	<context-param>
		<param-name>support-email</param-name>
		<param-value>nina@acad.bg</param-value>
	</context-param>
	<!-- 	Required in order to send confirmation mails upon registration. Please change to a valid email server.
	-->
	<context-param>
		<param-name>mail-server</param-name>
		<param-value>amigo.acad.bg</param-value>
	</context-param>
		<!-- 	Required in order to send confirmation mails upon registration.Please change to a valid email address  -->
	<context-param>
		<param-name>mail-from</param-name>
		<param-value>ambit@acad.bg</param-value>
	</context-param>
	<!-- 	This folder is used to store attachments uploaded by users. Please ensure the web appliaction server has write permission. -->
	<context-param>
		<param-name>attachments-dir</param-name>
		<param-value>/var/lib/ambit2</param-value>

	</context-param>
	 <!-- Servlets -->
	 <!-- jnlp startup servlet -->
    <servlet>
      <servlet-name>JnlpDownloadServlet</servlet-name>
      <servlet-class>jnlp.sample.servlet.JnlpDownloadServlet</servlet-class>
    </servlet>
	 
    <servlet-mapping>
      <servlet-name>JnlpDownloadServlet</servlet-name>
      <url-pattern>*.jnlp</url-pattern>
    </servlet-mapping>

	<session-config>
		<session-timeout>120</session-timeout>
	</session-config>
	
	<welcome-file-list>
		<welcome-file>index.jsp</welcome-file>
	</welcome-file-list>
	
	<resource-ref>
		<description>DB Connection to ambit database</description>
		<res-ref-name>jdbc/ambit2</res-ref-name>
		<res-type>javax.sql.DataSource</res-type>
		<res-auth>Container</res-auth>
	</resource-ref>
		
    <security-constraint>
	  <web-resource-collection>
		<web-resource-name>ambit_protected</web-resource-name>
			<url-pattern>/protected.jsp</url-pattern>
	  </web-resource-collection>

	<auth-constraint>
		<role-name>ambit_admin</role-name>
		<role-name>ambit_guest</role-name>
	</auth-constraint>

  </security-constraint>

  <login-config>
	<auth-method>FORM</auth-method>
	<form-login-config>
	<form-login-page>/login.jsp</form-login-page>
	<form-error-page>/login-error.jsp</form-error-page>
	</form-login-config>
  </login-config>

	<security-role>
		<role-name>ambit_admin</role-name>
	</security-role>
	<security-role>
		<role-name>ambit_guest</role-name>
	</security-role>


	<!-- Ambit taglib
	<taglib>
		<taglib-uri>/ambit</taglib-uri>
		<taglib-location>/WEB-INF/tld/ambit.tld</taglib-location>
	</taglib>
	<taglib>
			<taglib-uri>http://jakarta.apache.org/taglibs/taglibs-mailer</taglib-uri>
			<taglib-location>/WEB-INF/tld/taglibs-mailer.tld</taglib-location>
		</taglib>
		    
	<taglib>
		<taglib-uri>/xephyrus-fileupload</taglib-uri>
		<taglib-location>/WEB-INF/tld/xephyrus-fileupload.tld</taglib-location>
	</taglib>
	-->
</web-app>
